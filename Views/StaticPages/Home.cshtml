@{
    Layout = "_Layout";
}
@{
    ViewBag.Title = "Home";
    var isLoggedIn = User.Identity.IsAuthenticated;
    var currentUser = ViewBag.CurrentUser as sample_rails_app_8th_edNT.Models.User;
    var feedItems = ViewBag.FeedItems as IEnumerable<sample_rails_app_8th_edNT.Models.Micropost>;
}
@if (isLoggedIn)
{
    <div class="row">
        <aside class="col-md-4">
            <section class="user_info">
                @await Html.PartialAsync("_UserInfo", currentUser)
            </section>
            <section class="stats">
                @await Html.PartialAsync("_Stats", currentUser)
            </section>
            <section class="micropost_form">
                @await Html.PartialAsync("_MicropostForm", new sample_rails_app_8th_edNT.Models.Micropost())
            </section>
        </aside>
        <div class="col-md-8">
            <h3>Micropost Feed</h3>
            @await Html.PartialAsync("_Feed", feedItems)
        </div>
    </div>
}
else
{
    <div class="center jumbotron">
        <h1>Welcome to the Sample App</h1>
        <h2>
            This is the home page for the
            <a href="https://www.railstutorial.org/">Ruby on Rails Tutorial</a>
            sample application.
        </h2>
        <a asp-controller="Users" asp-action="New" class="btn btn-lg btn-primary">Sign up now!</a>
    </div>
    <a href="https://rubyonrails.org/">
        <img src="~/images/rails.svg" alt="Rails logo" width="200" />
    </a>
}
